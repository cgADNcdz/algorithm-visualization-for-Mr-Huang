{"ast":null,"code":"import _classCallCheck from \"/home/cdz/Code/FrontEnd/nw-react/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/cdz/Code/FrontEnd/nw-react/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/cdz/Code/FrontEnd/nw-react/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/cdz/Code/FrontEnd/nw-react/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/cdz/Code/FrontEnd/nw-react/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/cdz/Code/FrontEnd/nw-react/src/app/component/GraphTable.js\";\n\nvar React = require('react');\n\nvar node = [],\n    link = [];\nvar selectLink;\n\nvar GraphTable =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(GraphTable, _React$Component);\n\n  function GraphTable(props) {\n    var _this;\n\n    _classCallCheck(this, GraphTable);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(GraphTable).call(this, props));\n    _this.state = {\n      tab: 1\n    };\n    _this.SELECTED_LINK_COLOR = \"#ff0000\";\n    _this.DEFAULT_LINK_COLOR = \"#3a6bdb\";\n    return _this;\n  }\n\n  _createClass(GraphTable, [{\n    key: \"render\",\n    value: function render() {\n      var content = this.setContent(this.props);\n      return React.createElement(\"div\", {\n        style: {\n          width: '100%',\n          height: '100%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 19\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        id: \"tab\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 20\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          backgroundColor: this.state.tab === 1 ? \"#999\" : \"#CCC\"\n        },\n        onClick: this.setPTab.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 21\n        },\n        __self: this\n      }, \"\\u9876\\u70B9\"), React.createElement(\"div\", {\n        style: {\n          backgroundColor: this.state.tab === 2 ? \"#999\" : \"#CCC\"\n        },\n        onClick: this.setLTab.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 22\n        },\n        __self: this\n      }, \"\\u8FB9\"), React.createElement(\"div\", {\n        style: {\n          backgroundColor: this.state.tab === 3 ? \"#999\" : \"#CCC\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 23\n        },\n        __self: this\n      }, \"\\u4EE3\\u7801\")), React.createElement(\"div\", {\n        id: \"tabContent\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 25\n        },\n        __self: this\n      }, content));\n    } //点击“顶点”\n\n  }, {\n    key: \"setPTab\",\n    value: function setPTab() {\n      this.setState({\n        tab: 1\n      });\n    } //点击“边”\n\n  }, {\n    key: \"setLTab\",\n    value: function setLTab() {\n      this.setState({\n        tab: 2\n      });\n    }\n  }, {\n    key: \"setCodeTab\",\n    value: function setCodeTab() {\n      this.setState({\n        tab: 3\n      });\n    }\n  }, {\n    key: \"setContent\",\n    value: function setContent(_ref) {\n      var node = _ref.node,\n          link = _ref.link;\n\n      switch (this.state.tab) {\n        case 1:\n          //顶点\n          return this.renderPoint(node);\n          break;\n\n        case 2:\n          //边\n          return this.renderLink(link);\n          break;\n      }\n\n      return \"ERROR\";\n    }\n  }, {\n    key: \"renderPoint\",\n    value: function renderPoint(nodes) {\n      var td = nodes.map(function (node) {\n        return React.createElement(\"tr\", {\n          key: node.name,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66\n          },\n          __self: this\n        }, node.name), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 67\n          },\n          __self: this\n        }, node.lng), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68\n          },\n          __self: this\n        }, node.lat));\n      });\n      return React.createElement(\"table\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, \"\\u5730\\u70B9\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, \"\\u7ECF\\u5EA6\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, \"\\u7EAC\\u5EA6\"))), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, td));\n    }\n  }, {\n    key: \"renderLink\",\n    value: function renderLink(links) {\n      var _this2 = this;\n\n      var td = links.map(function (link, index) {\n        var ifVisible = link.polyline.isVisible();\n        var color = link.polyline.getStrokeColor();\n        var ifHighlight = color === _this2.SELECTED_LINK_COLOR;\n        return React.createElement(\"tr\", {\n          key: link + \"-\" + index,\n          onClick: _this2.highlightLink(link).bind(_this2),\n          style: {\n            backgroundColor: ifHighlight ? \"#DDD\" : \"#FFF\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 94\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 95\n          },\n          __self: this\n        }, link.node1.name + \" -> \" + link.node2.name), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 96\n          },\n          __self: this\n        }, link.dis), React.createElement(\"td\", {\n          onClick: _this2.setLink(link).bind(_this2),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 97\n          },\n          __self: this\n        }, ifVisible ? \"Yes\" : \"No\"));\n      });\n      return React.createElement(\"table\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, \"\\u8DEF\\u7EBF\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, \"\\u8DDD\\u79BB\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, \"\\u9009\\u62E9\"))), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, td));\n    }\n  }, {\n    key: \"highlightLink\",\n    value: function highlightLink(link) {\n      return function (event) {\n        var _this3 = this;\n\n        var links = this.props.link;\n        links.forEach(function (l) {\n          l.polyline.setStrokeColor(_this3.DEFAULT_LINK_COLOR);\n        });\n        link.polyline.setStrokeColor(this.SELECTED_LINK_COLOR);\n        this.props.updateState(null, links);\n      };\n    }\n  }, {\n    key: \"setLink\",\n    value: function setLink(link) {\n      return function (event) {\n        var links = this.props.link;\n        var visible = link.polyline.isVisible();\n        if (visible) link.polyline.hide();else link.polyline.show();\n        this.props.updateState(null, links);\n      };\n    }\n  }]);\n\n  return GraphTable;\n}(React.Component);\n\nexport default GraphTable;","map":{"version":3,"sources":["/home/cdz/Code/FrontEnd/nw-react/src/app/component/GraphTable.js"],"names":["React","require","node","link","selectLink","GraphTable","props","state","tab","SELECTED_LINK_COLOR","DEFAULT_LINK_COLOR","content","setContent","width","height","backgroundColor","setPTab","bind","setLTab","setState","renderPoint","renderLink","nodes","td","map","name","lng","lat","links","index","ifVisible","polyline","isVisible","color","getStrokeColor","ifHighlight","highlightLink","node1","node2","dis","setLink","event","forEach","l","setStrokeColor","updateState","visible","hide","show","Component"],"mappings":";;;;;;;AAAA,IAAIA,KAAK,GAAGC,OAAO,CAAC,OAAD,CAAnB;;AAEA,IAAIC,IAAI,GAAG,EAAX;AAAA,IAAeC,IAAI,GAAG,EAAtB;AACA,IAAIC,UAAJ;;IAEMC,U;;;;;AACF,sBAAYC,KAAZ,EAAkB;AAAA;;AAAA;;AACd,oFAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AACTC,MAAAA,GAAG,EAAE;AADI,KAAb;AAGA,UAAKC,mBAAL,GAA2B,SAA3B;AACA,UAAKC,kBAAL,GAA0B,SAA1B;AANc;AAOjB;;;;6BAEO;AACJ,UAAIC,OAAO,GAAG,KAAKC,UAAL,CAAgB,KAAKN,KAArB,CAAd;AACA,aACI;AAAK,QAAA,KAAK,EAAE;AAACO,UAAAA,KAAK,EAAE,MAAR;AAAgBC,UAAAA,MAAM,EAAC;AAAvB,SAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,EAAE,EAAC,KAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,KAAK,EAAE;AAACC,UAAAA,eAAe,EAAC,KAAKR,KAAL,CAAWC,GAAX,KAAiB,CAAjB,GAAmB,MAAnB,GAA0B;AAA3C,SAAZ;AAAgE,QAAA,OAAO,EAAE,KAAKQ,OAAL,CAAaC,IAAb,CAAkB,IAAlB,CAAzE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,EAEI;AAAK,QAAA,KAAK,EAAE;AAACF,UAAAA,eAAe,EAAC,KAAKR,KAAL,CAAWC,GAAX,KAAiB,CAAjB,GAAmB,MAAnB,GAA0B;AAA3C,SAAZ;AAAgE,QAAA,OAAO,EAAE,KAAKU,OAAL,CAAaD,IAAb,CAAkB,IAAlB,CAAzE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFJ,EAGI;AAAK,QAAA,KAAK,EAAE;AAACF,UAAAA,eAAe,EAAC,KAAKR,KAAL,CAAWC,GAAX,KAAiB,CAAjB,GAAmB,MAAnB,GAA0B;AAA3C,SAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAHJ,CADJ,EAMI;AAAK,QAAA,EAAE,EAAC,YAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAsBG,OAAtB,CANJ,CADJ;AAUH,K,CAED;;;;8BACS;AACL,WAAKQ,QAAL,CAAc;AACVX,QAAAA,GAAG,EAAE;AADK,OAAd;AAGH,K,CACD;;;;8BACS;AACL,WAAKW,QAAL,CAAc;AACVX,QAAAA,GAAG,EAAE;AADK,OAAd;AAGH;;;iCAEW;AACR,WAAKW,QAAL,CAAc;AACVX,QAAAA,GAAG,EAAE;AADK,OAAd;AAGH;;;qCAEyB;AAAA,UAAbN,IAAa,QAAbA,IAAa;AAAA,UAAPC,IAAO,QAAPA,IAAO;;AACtB,cAAO,KAAKI,KAAL,CAAWC,GAAlB;AACI,aAAK,CAAL;AACI;AACA,iBAAO,KAAKY,WAAL,CAAiBlB,IAAjB,CAAP;AACA;;AACJ,aAAK,CAAL;AACI;AACA,iBAAO,KAAKmB,UAAL,CAAgBlB,IAAhB,CAAP;AACA;AARR;;AAUA,aAAO,OAAP;AACH;;;gCACWmB,K,EAAM;AACd,UAAIC,EAAE,GAAGD,KAAK,CAACE,GAAN,CAAU,UAAAtB,IAAI,EAAE;AACrB,eACI;AAAI,UAAA,GAAG,EAAEA,IAAI,CAACuB,IAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAKvB,IAAI,CAACuB,IAAV,CADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAKvB,IAAI,CAACwB,GAAV,CAFJ,EAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAKxB,IAAI,CAACyB,GAAV,CAHJ,CADJ;AAOH,OARQ,CAAT;AASA,aACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAFJ,EAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAHJ,CADJ,CADJ,EAQI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACKJ,EADL,CARJ,CADJ;AAcH;;;+BACUK,K,EAAM;AAAA;;AACb,UAAIL,EAAE,GAAGK,KAAK,CAACJ,GAAN,CAAU,UAACrB,IAAD,EAAO0B,KAAP,EAAe;AAC9B,YAAIC,SAAS,GAAG3B,IAAI,CAAC4B,QAAL,CAAcC,SAAd,EAAhB;AACA,YAAIC,KAAK,GAAG9B,IAAI,CAAC4B,QAAL,CAAcG,cAAd,EAAZ;AACA,YAAIC,WAAW,GAAGF,KAAK,KAAK,MAAI,CAACxB,mBAAjC;AAEA,eACI;AAAI,UAAA,GAAG,EAAEN,IAAI,GAAC,GAAL,GAAS0B,KAAlB;AAAyB,UAAA,OAAO,EAAE,MAAI,CAACO,aAAL,CAAmBjC,IAAnB,EAAyBc,IAAzB,CAA8B,MAA9B,CAAlC;AAAuE,UAAA,KAAK,EAAE;AAACF,YAAAA,eAAe,EAACoB,WAAW,GAAC,MAAD,GAAQ;AAApC,WAA9E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAKhC,IAAI,CAACkC,KAAL,CAAWZ,IAAX,GAAgB,MAAhB,GAAuBtB,IAAI,CAACmC,KAAL,CAAWb,IAAvC,CADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAKtB,IAAI,CAACoC,GAAV,CAFJ,EAGI;AAAI,UAAA,OAAO,EAAE,MAAI,CAACC,OAAL,CAAarC,IAAb,EAAmBc,IAAnB,CAAwB,MAAxB,CAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAA6Ca,SAAS,GAAC,KAAD,GAAO,IAA7D,CAHJ,CADJ;AAOH,OAZQ,CAAT;AAaA,aACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAFJ,EAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAHJ,CADJ,CADJ,EAQI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACKP,EADL,CARJ,CADJ;AAcH;;;kCACapB,I,EAAK;AACf,aAAO,UAASsC,KAAT,EAAe;AAAA;;AAClB,YAAIb,KAAK,GAAG,KAAKtB,KAAL,CAAWH,IAAvB;AACAyB,QAAAA,KAAK,CAACc,OAAN,CAAc,UAAAC,CAAC,EAAE;AACbA,UAAAA,CAAC,CAACZ,QAAF,CAAWa,cAAX,CAA0B,MAAI,CAAClC,kBAA/B;AACH,SAFD;AAGAP,QAAAA,IAAI,CAAC4B,QAAL,CAAca,cAAd,CAA6B,KAAKnC,mBAAlC;AACA,aAAKH,KAAL,CAAWuC,WAAX,CAAuB,IAAvB,EAA6BjB,KAA7B;AACH,OAPD;AAQH;;;4BACOzB,I,EAAK;AACT,aAAO,UAASsC,KAAT,EAAe;AAClB,YAAIb,KAAK,GAAG,KAAKtB,KAAL,CAAWH,IAAvB;AACA,YAAI2C,OAAO,GAAG3C,IAAI,CAAC4B,QAAL,CAAcC,SAAd,EAAd;AAEA,YAAGc,OAAH,EAAW3C,IAAI,CAAC4B,QAAL,CAAcgB,IAAd,GAAX,KACK5C,IAAI,CAAC4B,QAAL,CAAciB,IAAd;AAEL,aAAK1C,KAAL,CAAWuC,WAAX,CAAuB,IAAvB,EAA6BjB,KAA7B;AACH,OARD;AASH;;;;EAlIoB5B,KAAK,CAACiD,S;;AAqI/B,eAAe5C,UAAf","sourcesContent":["let React = require('react');\n\nlet node = [], link = [];\nlet selectLink;\n\nclass GraphTable extends React.Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            tab: 1\n        };\n        this.SELECTED_LINK_COLOR = \"#ff0000\";\n        this.DEFAULT_LINK_COLOR = \"#3a6bdb\";\n    }\n   \n    render(){\n        let content = this.setContent(this.props);\n        return ( \n            <div style={{width: '100%', height:'100%'}}>\n                <div id=\"tab\">\n                    <div style={{backgroundColor:this.state.tab===1?\"#999\":\"#CCC\"}} onClick={this.setPTab.bind(this)}>顶点</div>\n                    <div style={{backgroundColor:this.state.tab===2?\"#999\":\"#CCC\"}} onClick={this.setLTab.bind(this)}>边</div>\n                    <div style={{backgroundColor:this.state.tab===3?\"#999\":\"#CCC\"}}>代码</div>\n                </div>\n                <div id=\"tabContent\">{content}</div>\n            </div>\n        );\n    }\n\n    //点击“顶点”\n    setPTab(){\n        this.setState({\n            tab: 1\n        });\n    }\n    //点击“边”\n    setLTab(){\n        this.setState({\n            tab: 2\n        });\n    }\n    \n    setCodeTab(){\n        this.setState({\n            tab: 3\n        });\n    }\n\n    setContent( {node, link} ){\n        switch(this.state.tab){\n            case 1:\n                //顶点\n                return this.renderPoint(node);\n                break;\n            case 2:\n                //边\n                return this.renderLink(link);\n                break;\n        }\n        return \"ERROR\";\n    }\n    renderPoint(nodes){\n        let td = nodes.map(node=>{\n            return (\n                <tr key={node.name}>\n                    <td>{node.name}</td>\n                    <td>{node.lng}</td>\n                    <td>{node.lat}</td>\n                </tr>\n            );\n        });\n        return (\n            <table>\n                <thead>\n                    <tr>\n                        <th>地点</th>\n                        <th>经度</th>\n                        <th>纬度</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {td}\n                </tbody>\n            </table>\n        );\n    }\n    renderLink(links){\n        let td = links.map((link, index)=>{\n            let ifVisible = link.polyline.isVisible();\n            let color = link.polyline.getStrokeColor();\n            let ifHighlight = color === this.SELECTED_LINK_COLOR;\n\n            return (\n                <tr key={link+\"-\"+index} onClick={this.highlightLink(link).bind(this)} style={{backgroundColor:ifHighlight?\"#DDD\":\"#FFF\"}}>\n                    <td>{link.node1.name+\" -> \"+link.node2.name}</td>\n                    <td>{link.dis}</td>\n                    <td onClick={this.setLink(link).bind(this)}>{ifVisible?\"Yes\":\"No\"}</td>\n                </tr>\n            );\n        });\n        return (\n            <table>\n                <thead>\n                    <tr>\n                        <th>路线</th>\n                        <th>距离</th>\n                        <th>选择</th>\n                    </tr> \n                </thead>\n                <tbody>\n                    {td}\n                </tbody>\n            </table>\n        );\n    }\n    highlightLink(link){\n        return function(event){\n            let links = this.props.link;\n            links.forEach(l=>{\n                l.polyline.setStrokeColor(this.DEFAULT_LINK_COLOR);\n            });\n            link.polyline.setStrokeColor(this.SELECTED_LINK_COLOR);\n            this.props.updateState(null, links);\n        }\n    }\n    setLink(link){\n        return function(event){\n            let links = this.props.link;\n            let visible = link.polyline.isVisible();\n\n            if(visible)link.polyline.hide();\n            else link.polyline.show();\n\n            this.props.updateState(null, links);\n        }\n    }\n}\n\nexport default GraphTable;"]},"metadata":{},"sourceType":"module"}